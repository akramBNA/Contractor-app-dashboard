<h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Détails du Véhicule</h1>

<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

<form [formGroup]="vehicleForm" class="space-y-12 px-6 md:px-12">
  <div>
    <h2 class="text-xl font-semibold text-gray-700 mb-6 border-b pb-2">Détails du Véhicule</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <mat-form-field appearance="fill">
        <mat-label>Type de Véhicule</mat-label>
        <mat-select formControlName="vehicle_type_id">
          <mat-option *ngFor="let vt of vehicle_types_data" [value]="vt.vehicle_type_id">
            {{ vt.vehicle_type_fr }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Marque</mat-label>
        <input matInput formControlName="brand" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Modèle</mat-label>
        <input matInput formControlName="model" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Année du Modèle</mat-label>
        <input matInput type="number" formControlName="model_year" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Immatriculation</mat-label>
        <input matInput formControlName="licence_plate" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Date de Mise en Circulation</mat-label>
        <input matInput [matDatepicker]="circulationPicker" formControlName="circulation_date"/>
        <mat-datepicker-toggle matSuffix [for]="circulationPicker"></mat-datepicker-toggle>
        <mat-datepicker #circulationPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Numéro VIN</mat-label>
        <input matInput formControlName="vin_number" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Numéro d'Assurance</mat-label>
        <input matInput formControlName="insurance_number" />
      </mat-form-field>
    </div>
  </div>

  <div class="text-center pt-6">
    <button type="button" (click)="onUpdate(vehicle_data.vehicle_id)" [disabled]="vehicleForm.invalid || isLoading" class="btn-edit" >Modifier</button>
  </div>
</form>
