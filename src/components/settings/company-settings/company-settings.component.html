<h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Informations de l'Entreprise</h1>

<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

<div *ngIf="!isLoading && isEmpty" class="text-center text-gray-600 mt-8">
  <p>Aucune information sur l'entreprise n'a été trouvée.</p>
</div>

<form *ngIf="!isLoading && !isEmpty && company_data.length > 0"
      [formGroup]="companyForm"
      (ngSubmit)="onSubmit()"
      class="space-y-12 px-6 md:px-12">

  <div>
    <h2 class="text-xl font-semibold text-gray-700 mb-6 border-b pb-2">Détails de l'Entreprise</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Nom de l'Entreprise</mat-label>
        <input matInput formControlName="company_name" />
        <mat-error *ngIf="companyForm.get('company_name')?.invalid && (companyForm.get('company_name')?.touched || formSubmitted)">
          Ce champ est requis
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Domaine d'Activité</mat-label>
        <input matInput formControlName="company_activity_field" />
        <mat-error *ngIf="companyForm.get('company_activity_field')?.invalid && (companyForm.get('company_activity_field')?.touched || formSubmitted)">
          Ce champ est requis
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Identifiant du Représentant</mat-label>
        <input matInput type="number" formControlName="company_representative_id" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Numéro d'Immatriculation Fiscale</mat-label>
        <input matInput type="number" formControlName="company_tax_id" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Numéro de Sécurité Sociale</mat-label>
        <input matInput type="number" formControlName="company_ss_id" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Année de Création</mat-label>
        <input matInput type="number" formControlName="company_establishment_year" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full md:col-span-2">
        <mat-label>Statut</mat-label>
        <mat-select formControlName="active">
          <mat-option value="Y">Active</mat-option>
          <mat-option value="N">Inactive</mat-option>
        </mat-select>
      </mat-form-field>

    </div>
  </div>

  <div class="text-center pt-6">
    <button type="submit" class="btn-add">Enregistrer</button>
  </div>
</form>
