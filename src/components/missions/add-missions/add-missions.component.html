<h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Ajouter une Mission</h1>

<div *ngIf="isLoading" class="absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-[9999]">
  <mat-spinner diameter="80"></mat-spinner>
</div>

<form [formGroup]="missionForm" class="space-y-12 px-6 md:px-12">
  <div>
    <h2 class="text-xl font-semibold text-gray-700 mb-6 border-b pb-2">Détails de la Mission</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="form-group">
        <label>Nom de la Mission</label>
        <input formControlName="mission_nom" type="text" class="input" />
      </div>

      <div class="form-group">
        <label>Assigné à</label>
        <select formControlName="employe_id" class="input">
          <option value="">-- Sélectionner un Employé --</option>
          <option *ngFor="let emp of employeesList" [value]="emp.employee_id">
            {{ emp.employee_name }} {{ emp.employee_lastname }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Date de Début</label>
        <input formControlName="date_debut" type="date" class="input" />
      </div>

      <div class="form-group">
        <label>Date de Fin</label>
        <input formControlName="date_fin" type="date" class="input" />
      </div>

      <div class="form-group">
        <label>Frais</label>
        <input formControlName="frais" type="number" class="input" />
      </div>

      <div class="form-group">
        <label>Priorité</label>
        <select formControlName="priorite" class="input">
          <option value="">-- Sélectionner --</option>
          <option value="LOW">Faible</option>
          <option value="MEDIUM">Moyenne</option>
          <option value="HIGH">Élevée</option>
        </select>
      </div>

      <div class="form-group md:col-span-2">
        <label>Description</label>
        <textarea formControlName="mission_description" class="input h-32 resize-none"></textarea>
      </div>
    </div>
  </div>

  <div class="text-center pt-6">
    <button type="button" (click)="onSubmitMission()" class="bg-blue-600 text-white font-semibold px-20 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer">
      Ajouter
    </button>
  </div>
</form>
